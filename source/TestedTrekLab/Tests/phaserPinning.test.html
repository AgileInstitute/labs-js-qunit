<!Doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>phaserPinning.test</title>
  <link rel="stylesheet" href="../../../lib/qunit.css">
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script src="../../../lib/qunit.js"></script>
  <script src="../../../lib/jquery.js"></script>
  <script src="../../../lib/sinon.js"></script>
  <script src="../StarTrek/game.js"></script>
  <script src="../Untouchables/userInterface.js"></script>
  <script>

    module("phaser", {
        setup: function() {
			// given
            this.game = new Game();
            this.ui = new UserInterface("phaser");
            sinon.stub(this.ui, "writeLine").args
        }
    });

    test("PhasersFiredWithInsufficientEnergy", function() {
        // given
        this.ui.commandParameter = this.game.enegy + 1;

        // when
        this.game.processCommand(this.ui);

        // then
        equal(this.ui.writeLine.args[0], "Insufficient energy to fire phasers!");
    });

  </script>
</body>
</html>
